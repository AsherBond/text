import{t as a}from"./NcLoadingIcon-BH7hGc73.chunk.mjs";import{_ as r}from"./index-CCUE3e_p.chunk.mjs";import{e as o}from"./EditorOutline-Bn73PLDW.chunk.mjs";import{A as i}from"./AvatarWrapper-CJ34dYzg.chunk.mjs";import{n as u}from"./_plugin-vue2_normalizer-XSZyZ-Zg.chunk.mjs";import"./emoji-picker-DwlFXcXb.chunk.mjs";import"./vue.runtime.esm-DkkA6hvG.chunk.mjs";import"./index-CBjMXwUt.chunk.mjs";import"./NcNoteCard-C6xb7vi0-Dte9AMhR.chunk.mjs";import"./NcCheckboxRadioSwitch-BIEYfWtF-BCkZJMwl.chunk.mjs";import"./MediaHandler.provider-BkVIW0cW.chunk.mjs";import"./index-B8nYQ_zQ.chunk.mjs";import"./logger-C5ZHccIX.chunk.mjs";const m={name:"GuestNameDialog",components:{AvatarWrapper:i},props:{session:{type:Object,required:!0}},setup(){const{syncService:e}=o();return{syncService:e}},data(){return{guestName:"",guestNameBuffered:""}},computed:{avatarUrl(){const e=r("/avatar/guest/{user}/{size}",{user:this.guestNameBuffered,size:32});return window.location.protocol+"//"+window.location.host+e}},beforeMount(){this.guestName=this.syncService.guestName,this.updateBufferedGuestName()},methods:{setGuestName(){const e=this.syncService.guestName;this.syncService.updateSession(this.guestName).then(()=>{localStorage.setItem("nick",this.guestName),this.updateBufferedGuestName()}).catch(t=>{this.guestName=e})},updateBufferedGuestName(){this.guestNameBuffered=this.guestName},t:a}};var n=function(){var e=this,t=e._self._c;return t("form",{staticClass:"guest-name-dialog",attrs:{title:e.t("text","Enter your name so other people can see who is editing")},on:{submit:function(s){return s.preventDefault(),e.setGuestName()}}},[t("label",[t("AvatarWrapper",{attrs:{session:e.session,size:32}})],1),t("input",{directives:[{name:"model",rawName:"v-model",value:e.guestName,expression:"guestName"}],attrs:{type:"text","aria-label":e.t("text","Edit guest name"),placeholder:e.t("text","Guest")},domProps:{value:e.guestName},on:{input:function(s){s.target.composing||(e.guestName=s.target.value)}}}),t("input",{staticClass:"icon-confirm",attrs:{type:"submit","aria-label":e.t("text","Save guest name"),value:""}})])},p=[],c=u(m,n,p,!1,null,"ab5126f2");const B=c.exports;export{B as default};
//# sourceMappingURL=GuestNameDialog-Bhr8Ttli.chunk.mjs.map
