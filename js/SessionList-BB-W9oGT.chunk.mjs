import{t as a,c as l}from"./NcLoadingIcon-CAT7lyY8.chunk.mjs";import{l as n}from"./index-DfiDB3im.chunk.mjs";import{_ as o}from"./index-CCUE3e_p.chunk.mjs";import{b as u,c}from"./NcNoteCard-C6xb7vi0-heg1YLQA.chunk.mjs";import{N as p}from"./NcCheckboxRadioSwitch-BIEYfWtF-BI4lbf0k.chunk.mjs";import{n as r}from"./_plugin-vue2_normalizer-XSZyZ-Zg.chunk.mjs";import{C as d,f as m}from"./EditorOutline-Tonj55YA.chunk.mjs";import{A as h}from"./AvatarWrapper-osd39nVD.chunk.mjs";import"./emoji-picker-DwlFXcXb.chunk.mjs";import"./vue.runtime.esm-CuYTBykc.chunk.mjs";import"./index-CBjMXwUt.chunk.mjs";import"./MediaHandler.provider-DL-Z-WfN.chunk.mjs";import"./logger-C5ZHccIX.chunk.mjs";const f={name:"AccountMultipleOutlineIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}};var _=function(){var t=this,e=t._self._c;return e("span",t._b({staticClass:"material-design-icon account-multiple-outline-icon",attrs:{"aria-hidden":t.title?null:"true","aria-label":t.title,role:"img"},on:{click:function(s){return t.$emit("click",s)}}},"span",t.$attrs,!1),[e("svg",{staticClass:"material-design-icon__svg",attrs:{fill:t.fillColor,width:t.size,height:t.size,viewBox:"0 0 24 24"}},[e("path",{attrs:{d:"M13.07 10.41A5 5 0 0 0 13.07 4.59A3.39 3.39 0 0 1 15 4A3.5 3.5 0 0 1 15 11A3.39 3.39 0 0 1 13.07 10.41M5.5 7.5A3.5 3.5 0 1 1 9 11A3.5 3.5 0 0 1 5.5 7.5M7.5 7.5A1.5 1.5 0 1 0 9 6A1.5 1.5 0 0 0 7.5 7.5M16 17V19H2V17S2 13 9 13 16 17 16 17M14 17C13.86 16.22 12.67 15 9 15S4.07 16.31 4 17M15.95 13A5.32 5.32 0 0 1 18 17V19H22V17S22 13.37 15.94 13Z"}},[t.title?e("title",[t._v(t._s(t.title))]):t._e()])])])},v=[],C=r(f,_,v,!1,null,null);const g=C.exports,b={name:"SessionList",components:{AccountMultipleOutlineIcon:g,AvatarWrapper:h,NcButton:c,NcPopover:u,NcCheckboxRadioSwitch:p},props:{sessions:{type:Object,default:()=>({})}},data(){return{myName:"",isFullWidth:n("text","is_full_width_editor",!1)}},computed:{label(){return a("text","Active people")},participantsPopover(){return this.currentSession?.guestName?this.participantsWithoutCurrent:this.participants},participantsWithoutCurrent(){return this.participants.filter(t=>!t.isCurrent)},participants(){return Object.values(this.sessions).filter(t=>t.lastContact>Date.now()/1e3-m&&(t.userId!==null||t.guestName!==null)).sort((t,e)=>t.lastContact<e.lastContact)},currentSession(){return Object.values(this.sessions).find(t=>t.isCurrent)},avatarStyle(){return t=>({opacity:t.lastContact>Date.now()/1e3-d?1:.5})},sessionsVisible(){return this.participantsWithoutCurrent.slice(0,3)}},methods:{onWidthToggle(t){this.isFullWidth=t,this.$emit("editor-width-change",t?"100%":"80ch"),l.post(o("/apps/text/settings"),{key:"is_full_width_editor",value:t?"1":"0"})},t:a}};var y=function(){var t=this,e=t._self._c;return e("NcPopover",{staticClass:"session-list",attrs:{placement:"bottom"},scopedSlots:t._u([{key:"trigger",fn:function({attrs:s}){return[e("div",[e("NcButton",t._b({staticClass:"avatar-list",attrs:{title:t.label,"aria-label":t.label,type:"tertiary"},scopedSlots:t._u([{key:"icon",fn:function(){return[e("AccountMultipleOutlineIcon",{attrs:{size:20}}),t._l(t.sessionsVisible,function(i){return e("AvatarWrapper",{key:i.id,attrs:{session:i,size:28}})})]},proxy:!0}],null,!0)},"NcButton",s,!1))],1)]}},{key:"default",fn:function(){return[e("div",{staticClass:"session-menu"},[t._t("lastSaved"),e("ul",[t._t("default"),t._l(t.participantsPopover,function(s){return e("li",{key:s.id,style:t.avatarStyle(s)},[e("AvatarWrapper",{attrs:{session:s,size:36}}),e("span",{staticClass:"session-label"},[t._v(" "+t._s(s.userId?s.displayName:s.guestName?s.guestName:t.t("text","Guest"))+" ")]),s.userId===null?e("span",{staticClass:"guest-label"},[t._v("("+t._s(t.t("text","guest"))+")")]):t._e()],1)}),e("li",[e("NcCheckboxRadioSwitch",{attrs:{checked:t.isFullWidth},on:{"update:checked":t.onWidthToggle}},[t._v(" "+t._s(t.t("text","Full width editor"))+" ")])],1)],2)],2)]},proxy:!0}],null,!0)})},A=[],x=r(b,y,A,!1,null,"c225db91");const j=x.exports;export{j as default};
//# sourceMappingURL=SessionList-BB-W9oGT.chunk.mjs.map
