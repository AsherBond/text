import{t as r}from"./NcLoadingIcon-BH7hGc73.chunk.mjs";import{b as n,c as l}from"./NcNoteCard-C6xb7vi0-Dte9AMhR.chunk.mjs";import{n as a}from"./_plugin-vue2_normalizer-XSZyZ-Zg.chunk.mjs";import{C as o,f as u}from"./EditorOutline-Bn73PLDW.chunk.mjs";import{A as c}from"./AvatarWrapper-CJ34dYzg.chunk.mjs";import"./emoji-picker-DwlFXcXb.chunk.mjs";import"./vue.runtime.esm-DkkA6hvG.chunk.mjs";import"./index-CBjMXwUt.chunk.mjs";import"./index-CCUE3e_p.chunk.mjs";import"./NcCheckboxRadioSwitch-BIEYfWtF-BCkZJMwl.chunk.mjs";import"./MediaHandler.provider-BkVIW0cW.chunk.mjs";import"./index-B8nYQ_zQ.chunk.mjs";import"./logger-C5ZHccIX.chunk.mjs";const p={name:"AccountMultipleOutlineIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}};var m=function(){var t=this,e=t._self._c;return e("span",t._b({staticClass:"material-design-icon account-multiple-outline-icon",attrs:{"aria-hidden":t.title?null:"true","aria-label":t.title,role:"img"},on:{click:function(s){return t.$emit("click",s)}}},"span",t.$attrs,!1),[e("svg",{staticClass:"material-design-icon__svg",attrs:{fill:t.fillColor,width:t.size,height:t.size,viewBox:"0 0 24 24"}},[e("path",{attrs:{d:"M13.07 10.41A5 5 0 0 0 13.07 4.59A3.39 3.39 0 0 1 15 4A3.5 3.5 0 0 1 15 11A3.39 3.39 0 0 1 13.07 10.41M5.5 7.5A3.5 3.5 0 1 1 9 11A3.5 3.5 0 0 1 5.5 7.5M7.5 7.5A1.5 1.5 0 1 0 9 6A1.5 1.5 0 0 0 7.5 7.5M16 17V19H2V17S2 13 9 13 16 17 16 17M14 17C13.86 16.22 12.67 15 9 15S4.07 16.31 4 17M15.95 13A5.32 5.32 0 0 1 18 17V19H22V17S22 13.37 15.94 13Z"}},[t.title?e("title",[t._v(t._s(t.title))]):t._e()])])])},f=[],d=a(p,m,f,!1,null,null);const v=d.exports,_={name:"SessionList",components:{AccountMultipleOutlineIcon:v,AvatarWrapper:c,NcButton:l,NcPopover:n},props:{sessions:{type:Object,default:()=>({})}},data(){return{myName:""}},computed:{label(){return r("text","Active people")},participantsPopover(){return this.currentSession?.guestName?this.participantsWithoutCurrent:this.participants},participantsWithoutCurrent(){return this.participants.filter(t=>!t.isCurrent)},participants(){return Object.values(this.sessions).filter(t=>t.lastContact>Date.now()/1e3-u&&(t.userId!==null||t.guestName!==null)).sort((t,e)=>t.lastContact<e.lastContact)},currentSession(){return Object.values(this.sessions).find(t=>t.isCurrent)},avatarStyle(){return t=>({opacity:t.lastContact>Date.now()/1e3-o?1:.5})},sessionsVisible(){return this.participantsWithoutCurrent.slice(0,3)}},methods:{t:r}};var C=function(){var t=this,e=t._self._c;return e("NcPopover",{staticClass:"session-list",attrs:{"no-focus-trap":!t.$slots.default,placement:"bottom"},scopedSlots:t._u([{key:"trigger",fn:function({attrs:s}){return[e("div",[e("NcButton",t._b({staticClass:"avatar-list",attrs:{title:t.label,"aria-label":t.label,type:"tertiary"},scopedSlots:t._u([{key:"icon",fn:function(){return[e("AccountMultipleOutlineIcon",{attrs:{size:20}}),t._l(t.sessionsVisible,function(i){return e("AvatarWrapper",{key:i.id,attrs:{session:i,size:28}})})]},proxy:!0}],null,!0)},"NcButton",s,!1))],1)]}},{key:"default",fn:function(){return[e("div",{staticClass:"session-menu"},[t._t("lastSaved"),e("ul",[t._t("default"),t._l(t.participantsPopover,function(s){return e("li",{key:s.id,style:t.avatarStyle(s)},[e("AvatarWrapper",{attrs:{session:s,size:36}}),e("span",{staticClass:"session-label"},[t._v(" "+t._s(s.userId?s.displayName:s.guestName?s.guestName:t.t("text","Guest"))+" ")]),s.userId===null?e("span",{staticClass:"guest-label"},[t._v("("+t._s(t.t("text","guest"))+")")]):t._e()],1)})],2)],2)]},proxy:!0}],null,!0)})},y=[],h=a(_,C,y,!1,null,"86749c0f");const w=h.exports;export{w as default};
//# sourceMappingURL=SessionList-CKPUqbvX.chunk.mjs.map
